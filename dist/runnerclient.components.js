(window.webpackJsonpRunnerClient=window.webpackJsonpRunnerClient||[]).push([[2],{152:function(e,t,n){"use strict";var i=n(234).RunnerClientConfiguration,r=n(233).RunnerUploader,o=n(220).RunnerThumbnailUpdater;e.exports={RunnerClientConfiguration:i,RunnerThumbnailUpdater:o,RunnerUploader:r}},179:function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=n(221),o=n(25).Config,a=n(53),s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"translate",value:function(){var e;return this.i18n||this._configureI18n(),(e=this.i18n).t.apply(e,arguments)}},{key:"_configureI18n",value:function(){r.translations=a,r.locale=o.locale,this.i18n=r}}]),e}();e.exports={TranslationService:s}},180:function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"getExtension",value:function(e){return(e.toLowerCase().match(/^[^.].*(\.\w+)$/)||[])[1]}},{key:"getFileName",value:function(e){return e.replace(/^[\w\W]*[/\\]/,"")}}]),e}();e.exports={FileValidationService:r}},181:function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=n(25).Config,o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"info",value:function(){var e;r.logLevelInt>=2&&(e=console).info.apply(e,arguments)}},{key:"warn",value:function(){var e;r.logLevelInt>=1&&(e=console).warn.apply(e,arguments)}},{key:"debug",value:function(){var e;r.logLevelInt>=3&&(e=console).log.apply(e,arguments)}}]),e}();e.exports={LogService:o}},182:function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=n(201),o={transfer:[],transferComplete:[],status:[],start:[]},a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"initialize",value:function(){var e=r();this.connectInstaller=new window.AW4.ConnectInstaller,this._connect=new window.AW4.Connect({id:e,dragDropEnabled:!0,minVersion:"3.8.0"}),this._connect.addEventListener(window.AW4.Connect.EVENT.STATUS,this._handleAsperaEvent.bind(this)),this._connect.initSession(e),this.activeTransfers={},this.uploadBatchCount=0}},{key:"start",value:function(e,t){var n=this;this.connect.addEventListener(window.AW4.Connect.EVENT.TRANSFER,this._handleAsperaEvent.bind(this));var i=[],r=void 0,o=function(e){return new Promise(function(r,o){var a=n.connect.startTransfer(e,t,{success:r,error:o});a.error?o(a.error):(i.push(a.request_id),a.transfer_spec=e,n._executeEventListenersFor("start",a))})},a=e.map(function(e){if(r){var t=r.then(function(){return o(e)});return r=t,t}return r=o(e)});return this.uploadBatchCount+=1,this.activeTransfers[this.uploadBatchCount]=i,{id:this.uploadBatchCount,promise:Promise.all(a)}}},{key:"showFileUploadDialog",value:function(e){this.connect.showSelectFileDialog({success:e})}},{key:"showFolderUploadDialog",value:function(e){this.connect.showSelectFolderDialog({success:e})}},{key:"_handleAsperaEvent",value:function(e,t){e===window.AW4.Connect.EVENT.STATUS&&this._handleAsperaStatusEvent(t),e===window.AW4.Connect.EVENT.TRANSFER&&this._handleAsperaTransferEvent(t)}},{key:"_executeEventListenersFor",value:function(e,t){this.eventCallbacks[e].forEach(function(e){return e(t)})}},{key:"_handleAsperaStatusEvent",value:function(e){switch(this._executeEventListenersFor("status",e),e){case window.AW4.Connect.STATUS.INITIALIZING:case window.AW4.Connect.STATUS.RETRYING:this.connectInstaller.showLaunching();break;case window.AW4.Connect.STATUS.FAILED:this.connectInstaller.showDownload();break;case window.AW4.Connect.STATUS.OUTDATED:this.connectInstaller.showUpdate();break;case window.AW4.Connect.STATUS.RUNNING:this.connectInstaller.connected()}}},{key:"_handleAsperaTransferEvent",value:function(e){var t=this;e.transfers.forEach(function(e){if(e.transfer_spec){t._executeEventListenersFor("transfer",e);var n=t._getTransferDataFor(e);if(n&&1===e.percentage){var i=t.activeTransfers[n.id];i.splice(n.index,1),0===i.length&&delete t.activeTransfers[n.id],t._executeEventListenersFor("transferComplete",{transfer:e,id:n.id,token:n.token,isBatchComplete:!i.length})}}}),this.hasActiveTransfers||this._removeTransferListener()}},{key:"_getTransferDataFor",value:function(e){for(var t in this.activeTransfers)if(this.activeTransfers.hasOwnProperty(t)){var n=this.activeTransfers[t];if(n){var i=e.aspera_connect_settings.request_id,r=n.indexOf(i);if(-1!==r)return{id:t,token:i,index:r}}}}},{key:"_removeTransferListener",value:function(){this.connect.removeEventListener(window.AW4.Connect.EVENT.TRANSFER)}},{key:"eventCallbacks",set:function(e){this._eventCallbacks=Object.assign({},o,e)},get:function(){return this._eventCallbacks||(this._eventCallbacks=Object.assign({},o)),this._eventCallbacks}},{key:"connect",get:function(){return this._connect||this.initialize(),this._connect}},{key:"hasActiveTransfers",get:function(){return!!Object.keys(this.activeTransfers).length}}]),e}();e.exports={AsperaConnectService:a}},199:function(e,t,n){"use strict";var i=n(200).FileNameValidationService,r=n(180).FileValidationService,o=n(223).ThumbnailValidationService,a=n(201);e.exports={FileFactory:function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.fileName=r.getFileName(t.name),this.fullFilePath=t.name,this.processing=!1,this.size=t.size,this.fileObj=t,this.uuid=a(),this.hasValidCharacters=i.containsValidCharacters(this.fileName),this.hasExtension=i.containsExtension(this.fileName),this.hasValidExtension=i.containsValidExtension(this.fileName),this.valid=function(){return i.valid(this.fileName,this.fileObj.doesNotRequireExtension)},this.validThumbnail=function(){var e=this.valid(),n=o.valid(t);return e&&n}}}},200:function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=n(3).UNSUPPORTED_FILE_EXTENSIONS,o=n(180).FileValidationService,a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"containsValidCharacters",value:function(e){return!/:|\/|"|;|'|\?|!|>|<|&|\||\*|@/.test(e)}},{key:"containsExtension",value:function(e){return!!o.getExtension(e)}},{key:"containsValidExtension",value:function(e){return!r.includes(o.getExtension(e))}},{key:"valid",value:function(e,t){return t?this.containsValidCharacters(e):this.containsValidCharacters(e)&&this.containsExtension(e)&&this.containsValidExtension(e)}}]),e}();e.exports={FileNameValidationService:a}},218:function(e,t,n){"use strict";var i=n(179).TranslationService,r={scope:"RunnerThumbnailUpdater"},o=function(e){return i.translate(e,r)},a=document.createElement("template");a.innerHTML='\n  <style>\n    :host {\n      display: flex;\n      flex-direction: column;\n      position: relative;\n      border: 1px solid #999;\n      height: 500px;\n      width: 100%;\n    }\n\n    :host > * {\n      box-sizing: border-box;\n    }\n\n    :host([incoming][empty]) #incoming {\n      display: flex;\n    }\n\n    :host([incoming][empty]) #empty-dropzone {\n      display: none;\n    }\n\n    :host([empty]) #upload-button {\n      display: none;\n    }\n    :host([empty]) #empty-dropzone {\n      display: -ms-flexbox;\n      display: flex;\n    }\n\n    :host #preview {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      flex: 1 0 0.1px;\n    }\n\n    :host #preview img {\n      flex: 0 1 0.01px;\n      max-height: 100%;\n    }\n\n    :host #empty-dropzone {\n      display: none;\n      height: 100%;\n      justify-content: center;\n      align-items: center;\n      flex-direction: column;\n    }\n\n    :host #incoming {\n      align-items: center;\n      display: none;\n      height: 100%;\n      justify-content: center;\n      position: absolute;\n      width: 100%;\n      z-index: 10;\n    }\n\n    :host #error,\n    :host #uploading,\n    :host #upload-complete {\n      display: none;\n      flex: 1;\n      justify-content: space-between;\n    }\n\n    :host([error]) #error {\n      display: flex;\n    }\n\n    :host([uploading]) #uploading {\n      display: flex;\n    }\n    :host([uploading]) #upload-button,\n    :host([uploading]) #add-file-button {\n      display: none;\n    }\n\n    :host([upload-complete]) #upload-complete {\n      display: flex;\n    }\n    :host([upload-complete]) #upload-button,\n    :host([upload-complete]) #add-file-button {\n      display: none;\n    }\n\n    :host #add-file-input {\n      display: none;\n    }\n\n    :host footer {\n      background: rgba(0, 0, 0, 0.1);\n      width: 100%;\n      padding: 8px;\n      display: flex;\n      justify-content: flex-end;\n    }\n\n    :host footer span {\n      flex: 1;\n    }\n  </style>\n\n  <div id="empty-dropzone">\n    <slot name="emptyDropzone">\n      <h1>'+o("emptyHeadingText")+"</h1>\n      <h2>"+o("emptySubheadingText")+"</h2>\n      <h3>"+o("emptyAdditionalText")+'</h3>\n    </slot>\n  </div>\n\n  <div id="incoming">\n    <slot name="incoming">\n      <h1>'+o("incoming")+'</h1>\n    </slot>\n  </div>\n\n  <div id="preview"></div>\n\n  <footer>\n    <div id="error">\n      <slot name="error">\n        <span id="error-message">'+o("error")+'</span>\n      </slot>\n    </div>\n\n    <div id="uploading">\n      <slot name="uploading">\n        <span>'+o("uploading")+'</span>\n      </slot>\n    </div>\n\n    <div id="upload-complete">\n      <slot name="uploadComplete">\n        <span>'+o("uploadComplete")+'</span>\n      </slot>\n    </div>\n\n    <slot name="addFileButton">\n      <button type="button" id="add-file-button">'+o("addFile")+'</button>\n      <input type="file" id="add-file-input" />\n    </slot>\n\n    <slot name="uploadButton">\n      <button type="button" id="upload-button">'+o("upload")+"</button>\n    </slot>\n  </footer>\n",e.exports=a},219:function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=n(50).API,o=n(181).LogService,a=n(52),s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"replaceThumbnailFor",value:function(e,t){var n=this;return r.replaceThumbnail(e,t.fileName).then(function(e){o.debug("["+n.name+"] Delegate token recieved",e);var i=e.data.token,r=e.data.mcs_id;return n._uploadImageToMCS(r,i,t.fileObj)}).then(function(t){var n=t.data.thumbnails.find(function(e){return"small"===e.type});return{id:e,thumbnail_url:n.location}})}},{key:"_uploadImageToMCS",value:function(e,t,n){var i=this,r=new FormData;return r.append("file",n),a.request({url:"https://io.cimediacloud.com/assets/"+e+"/coverelement/upload",method:"post",data:r,headers:{Authorization:"Bearer "+t},onUploadProgress:function(e){o.debug("["+i.name+"] Upload Progress",e)}})}}]),e}();e.exports={ThumbnailReplacementService:s}},220:function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function r(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}Object.setPrototypeOf(r.prototype,HTMLElement.prototype),Object.setPrototypeOf(r,HTMLElement);var o=n(50).API,a=n(199).FileFactory,s=n(181).LogService,l=n(219).ThumbnailReplacementService,u=n(179).TranslationService,c={scope:"RunnerThumbnailUpdater"},d=n(3).EVENTS,f="runner-thumbnail-updater",h=n(218);window.ShadyCSS&&window.ShadyCSS.prepareTemplate(h,f);var p=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.empty=!0,e.attachShadow({mode:"open"}).appendChild(h.content.cloneNode(!0)),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r),i(t,null,[{key:"elName",get:function(){return f}}]),i(t,[{key:"connectedCallback",value:function(){this._addEventListeners()}},{key:"_addEventListeners",value:function(){var e=this;this._dragEnterListener=function(t){t.preventDefault(),t.stopPropagation(),e.incoming=!0}.bind(this),this._dragLeaveListener=function(t){t.preventDefault(),t.stopPropagation(),e.incoming=!1}.bind(this),this._dragOverListener=function(e){e.preventDefault(),e.stopPropagation()}.bind(this),this._dropListener=function(t){t.preventDefault(),t.stopPropagation(),e.incoming=!1,e._handleDrop(t)}.bind(this),this.addEventListener("dragenter",this._dragEnterListener),this.addEventListener("dragleave",this._dragLeaveListener),this.addEventListener("dragover",this._dragOverListener),this.addEventListener("drop",this._dropListener);var t=this.shadowRoot.getElementById("upload-button");this._uploadClickListener=function(t){t.preventDefault(),t.stopPropagation(),e._beginUpload()}.bind(this),t.addEventListener("click",this._uploadClickListener);var n=this.shadowRoot.getElementById("add-file-button");this._addFilesClickListener=function(t){t.stopPropagation(),t.preventDefault(),e.shadowRoot.getElementById("add-file-input").click()}.bind(this),n.addEventListener("click",this._addFilesClickListener);var i=this.shadowRoot.getElementById("add-file-input");this._fileAddedListener=function(t){t.stopPropagation(),t.preventDefault(),e._handleFileAdded(t)}.bind(this),i.addEventListener("change",this._fileAddedListener)}},{key:"_beginUpload",value:function(){var e=this;this.errors=!1,this.uploading=!0;var t=this.assetItemIDs.map(function(t){return l.replaceThumbnailFor(t,e.file)});Promise.all(t).then(function(e){return o.bulkUpdateAssetItems(e)}).then(function(){e.uploading=!1,e.uploadComplete=!0,e._emitUploadCompleteEvent()}).catch(function(t){e.uploading=!1,s.warn("["+f+"] Failed to update thumbnail!",t),e._setErrorMessage("error"),e._emitUploadFailedEvent(t)})}},{key:"_emitUploadCompleteEvent",value:function(){this.dispatchEvent(new CustomEvent(d.UPLOAD_COMPLETE,{bubbles:!0,detail:{assetItemIDs:this.assetItemIDs,filename:this.file.fileName}}))}},{key:"_emitUploadFailedEvent",value:function(e){this.dispatchEvent(new CustomEvent(d.UPLOAD_FAILED,{bubbles:!0,detail:{assetItemIDs:this.assetItemIDs,filename:this.file.fileName,error:e}}))}},{key:"_handleDrop",value:function(e){s.debug("["+f+"] Drop event recieved",e),this.error=!1;var t=e.dataTransfer.files;if(t.length>1)this._setErrorMessage("tooMany");else{var n=new a(t[0]);n.validThumbnail()?(this.file=n,this._setPreview(n)):this._setErrorMessage("invalidFile")}}},{key:"_handleFileAdded",value:function(e){s.debug("["+f+"] File added via input",e),this.error=!1;var t=new a(e.target.files[0]);t.validThumbnail()?(this.file=t,this._setPreview(t)):this._setErrorMessage("invalidFile")}},{key:"_setErrorMessage",value:function(e){var t=this.shadowRoot.getElementById("error-message"),n=u.translate(e,c);t.innerText=n,this.error=!0}},{key:"_setPreview",value:function(e){var t=this;this.empty=!1;var n=this.shadowRoot.getElementById("preview");n.children.length&&Array.from(n.children).forEach(function(e){return e.remove()});var i=document.createElement("progress");n.appendChild(i);var r=new FileReader;r.onprogress=function(e){s.debug("["+f+"] FileReader progress",e),i.max=e.total,i.value=e.loaded},r.onload=function(e){s.debug("["+f+"] FileReader loaded",e),i.remove();var t=document.createElement("img");t.src=r.result,n.appendChild(t)},r.onerror=function(e){s.warn("["+f+"] FileReader load error",e),t.empty=!0,t._setErrorMessage("fileReadFailed")},r.readAsDataURL(e.fileObj)}},{key:"assetItemID",get:function(){return this.getAttribute("asset-item-id")},set:function(e){if(e){if(!/\d+/.test(e))throw new Error("[<"+this.elName+">] asset-item-id must be an integer");this.setAttribute("asset-item-id",e)}else this.removeAttribute("asset-item-id")}},{key:"assetItemIDs",get:function(){return this._assetItemIDs||(this.assetItemID?this._assetItemIDs=[this.assetItemID]:this._assetItemIDs=[]),this._assetItemIDs},set:function(e){if("Array"!==e.constructor.name||!e.every(function(e){return/\d+/.test(e)}))throw new Error("[<"+this.elName+">] assetItemIDs must be an Array of numbers");this.assetItemID=void 0,this._assetItemIDs=e}},{key:"empty",get:function(){return this.hasAttribute("empty")},set:function(e){e?this.setAttribute("empty",""):this.removeAttribute("empty")}},{key:"error",get:function(){return this.hasAttribute("error")},set:function(e){e?this.setAttribute("error",""):this.removeAttribute("error")}},{key:"incoming",get:function(){return this.hasAttribute("incoming")},set:function(e){e?this.setAttribute("incoming",""):this.removeAttribute("incoming")}},{key:"uploading",get:function(){return this.hasAttribute("uploading")},set:function(e){e?this.setAttribute("uploading",""):this.removeAttribute("uploading")}},{key:"uploadComplete",get:function(){return this.hasAttribute("upload-complete")},set:function(e){e?this.setAttribute("upload-complete",""):this.removeAttribute("upload-complete")}}],[{key:"register",value:function(){window.customElements.get(this.elName)||window.customElements.define(this.elName,this)}},{key:"observedAttributes",get:function(){return["assetItemID","empty","error","incoming","uploading","uploadComplete"]}}]),t}();p.register(),e.exports={RunnerThumbnailUpdater:p}},222:function(e,t,n){"use strict";var i=n(179).TranslationService,r={scope:window.AW4.Utils.BROWSER.EDGE?"RunnerUploader.edge":"RunnerUploader"},o=function(e){return i.translate(e,r)},a=document.createElement("template");a.innerHTML='\n  <style>\n    :host {\n      display: block;\n      position: relative;\n      border: 1px solid #999;\n      height: 500px;\n      width: 100%;\n    }\n\n    :host > * {\n      box-sizing: border-box;\n    }\n\n    :host([incoming][empty]) #incoming {\n      display: flex;\n    }\n\n    :host([incoming][empty]) #empty-dropzone {\n      display: none;\n    }\n\n    :host([empty]) #upload-button {\n      display: none;\n    }\n    :host([empty]) #empty-dropzone {\n      display: flex;\n    }\n\n    :host #files-list {\n      height: 100%;\n      overflow-y: scroll;\n    }\n\n    :host #empty-dropzone {\n      display: none;\n      height: 100%;\n      justify-content: center;\n      align-items: center;\n      flex-direction: column;\n    }\n\n    :host #incoming {\n      align-items: center;\n      display: none;\n      height: 100%;\n      justify-content: center;\n      position: absolute;\n      width: 100%;\n      z-index: 10;\n    }\n\n    :host #error,\n    :host #uploading,\n    :host #upload-complete {\n      display: none;\n      flex: 1;\n      justify-content: space-between;\n    }\n\n    :host([error]) #error {\n      display: flex;\n    }\n\n    :host([uploading]) #uploading {\n      display: flex;\n    }\n    :host([uploading]) #upload-button,\n    :host([uploading]) #add-files-button {\n      display: none;\n    }\n\n    :host([upload-complete]) #upload-complete {\n      display: flex;\n    }\n    :host([upload-complete]) #upload-button,\n    :host([upload-complete]) #add-files-button {\n      display: none;\n    }\n\n    :host footer {\n      background: rgba(0, 0, 0, 0.1);\n      position: absolute;\n      width: 100%;\n      padding: 8px;\n      bottom: 0;\n      display: flex;\n      justify-content: flex-end;\n    }\n\n    :host footer span {\n      flex: 1;\n    }\n  </style>\n\n  <div id="empty-dropzone">\n    <slot name="emptyDropzone">\n      <h1>'+o("emptyHeadingText")+"</h1>\n      <h2>"+o("emptySubheadingText")+'</h2>\n    </slot>\n  </div>\n\n  <div id="incoming">\n    <slot name="incoming">\n      <h1>'+o("incoming")+'</h1>\n    </slot>\n  </div>\n\n  <div id="files-list"></div>\n\n  <footer>\n    <div id="error">\n      <slot name="error">\n        <span>'+o("error")+'</span>\n      </slot>\n    </div>\n\n    <div id="uploading">\n      <slot name="uploading">\n        <span>'+o("uploading")+'</span>\n      </slot>\n    </div>\n\n    <div id="upload-complete">\n      <slot name="uploadComplete">\n        <span>'+o("uploadComplete")+'</span>\n        <button type="button" id="add-more-button">'+o("uploadMore")+'</button>\n      </slot>\n    </div>\n\n    <slot name="addFilesButton">\n      <button type="button" id="add-files-button">'+o("addFiles")+'</button>\n    </slot>\n\n    <slot name="uploadButton">\n      <button type="button" id="upload-button">'+o("upload")+"</button>\n    </slot>\n  </footer>\n",e.exports=a},223:function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=n(3),o=r.VALID_THUMBNAIL_FILE_EXTENSIONS,a=r.MAX_THUMBNAIL_SIZE,s=n(180).FileValidationService,l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"containsValidExtension",value:function(e){return o.includes(s.getExtension(e))}},{key:"isValidFileSize",value:function(e){return e<=a}},{key:"valid",value:function(e){return this.containsValidExtension(e.name)&&this.isValidFileSize(e.size)}}]),e}();e.exports={ThumbnailValidationService:l}},224:function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=n(199).FileFactory,o=n(3).MAX_UPLOAD_COUNT,a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"addFiles",value:function(e,t){var n=this;return new Promise(function(i,r){t=n.removeDuplicates(e,t),e.length+t.length>o?r({error:"[RunnerClient] Too many files added. Uploads can have a maximum of "+o+" files."}):(e.push.apply(e,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t)),i({files:e,filesAdded:t.length}))})}},{key:"removeDuplicates",value:function(e,t){var n=e.map(function(e){return e.fullFilePath}),i=[];return t.forEach(function(e){if(!n.includes(e.name)){var t=new r(e);i.push(t)}}),i}},{key:"removeFileByUUID",value:function(e,t){return new Promise(function(t,n){var i=e.findIndex(function(e){e.uuid});i?t(e.splice(i,1)):n()})}}]),e}();e.exports={FileUploadService:a}},225:function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=n(200).FileNameValidationService,o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"manifestForAsperaTransferEventData",value:function(e,t){var n=e.transfer_spec.paths[0].source,i=t.find(function(e){return e.transfer_spec.paths[0].source===n}),r=e.files.map(function(e){return e.file});return{id:i.asset_item_id,custom_metadata_fields:this.manifestForFiles(r,n)}}},{key:"manifestForFiles",value:function(e,t){var n=this;return[{category:"tech_info",label:"manifest",value:function(e,i){var r=[],o={name:n._folderNameFromFullFolderPath(i),children:r,count:0};return e.forEach(function(e){var i=RegExp(t+"/?(.*)").exec(e)[1].split("/"),a=i.length,s=r;i.forEach(function(e,t){if(t===a-1)n._isValid(e)&&(s.push({name:e}),o.count+=1);else{var i=s.find(function(t){return t.name===e});if(i)s=i.children;else{var r=[],l={name:e,children:r};s.push(l),s=r}}})}),n._removeEmptyChildren(o),o}(e,t)}]}},{key:"present",value:function(e){var t=this,n=0,i=0,r=[];return function e(o,a){var s=[],l=[];(o=t._sort(o)).forEach(function(e){e.hasOwnProperty("children")?t._hasNonFolderChild(e)&&(i+=1,l.push(e)):(n+=1,s.push(e.name))});var u={};u["/"+a.join("/")+":"]=s,r.push(u),l.forEach(function(t){e(t.children,a.concat(t.name))})}(e.children||[],[]),{numberOfFiles:n,numberOfFolders:i,sorted:r}}},{key:"_folderNameFromFullFolderPath",value:function(e){var t=e.split("/");return t[t.length-1]}},{key:"_hasNonFolderChild",value:function(e){var t=this;return e.hasOwnProperty("children")&&e.children&&e.children.find(function(e){return!e.hasOwnProperty("children")||t._hasNonFolderChild(e)})}},{key:"_isValid",value:function(e){var t=r.containsExtension(e),n=e[0]+e[1];return".ds_store"!==e.toLowerCase()&&"._"!==n&&(!t||r.containsValidExtension(e))}},{key:"_removeEmptyChildren",value:function(e){var t=this;e.children.forEach(function(n,i){n.children&&(n.children.length?t._removeEmptyChildren(n):e.children.splice(i,1))})}},{key:"_sort",value:function(e){return e.sort(function(e,t){var n=e.name.toLowerCase(),i=t.name.toLowerCase();return n<i?-1:n>i?1:0})}}]),e}();e.exports={PackageManifestService:o}},226:function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=n(51),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"formatted",value:function(e,t){var n=r(e.transfer_spec),i=0,o=0,a=n.paths.length?[n]:[],s=r(e.package_transfer_specs);return t.forEach(function(e){var t=void 0;if(e.fileObj.isFolder){var r=s[i].transfer_spec;a.push(r),t=r.paths[0],i+=1}else t=n.paths[o],o+=1;t.source=e.fullFilePath}),{all:a,packageMappings:s}}}]),e}();e.exports={AsperaTransferSpecFormatterService:o}},227:function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=n(50).API,o=n(182).AsperaConnectService,a=n(226).AsperaTransferSpecFormatterService,s=n(225).PackageManifestService,l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"upload",value:function(e,t){var n=this,i=e.map(function(e){var t={name:e.fileName,package:e.fileObj.isFolder};return e.fileObj.fetchFolderContentsFromDragDropEvent&&(t.custom_metadata_fields=s.manifestForFiles(e.fileObj.fetchFolderContentsFromDragDropEvent(),e.fileName)),t});return r.upload(i,t||{}).then(function(t){var i=a.formatted(t.data,e),r=n.asperaConnectService.start(i.all,t.data.connection_settings);return n.activeUploads[r.id]={files:e,assetItemAttrsCollection:[],packageMappings:i.packageMappings,ingestBatchId:t.data.ingest_batch_id},t})}},{key:"_onTransferComplete",value:function(e){var t=this.activeUploads[e.id];t&&e.isBatchComplete&&(t.files.forEach(function(n){if(n.fileObj.isFolder&&!n.fileObj.fetchFolderContentsFromDragDropEvent){var i=s.manifestForAsperaTransferEventData(e.transfer,t.packageMappings);t.assetItemAttrsCollection.push(i)}}),t.assetItemAttrsCollection.length&&r.bulkUpdateAssetItems(t.assetItemAttrsCollection),r.completeIngestBatchUpload(t.ingestBatchId),delete this.activeUploads[e.id])}},{key:"activeUploads",get:function(){return this._activeUploads||(this._activeUploads={}),this._activeUploads}},{key:"hasActiveUploads",get:function(){return!!Object.keys(this.activeUploads).length}},{key:"asperaConnectService",get:function(){return this._asperaConnectService||(o.eventCallbacks={transferComplete:[this._onTransferComplete.bind(this)]},this._asperaConnectService=o),this._asperaConnectService}}]),e}();e.exports={AsperaUploadService:l}},228:function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"serialize",value:function(e){return(e.files?e.files.dataTransfer.files:e.dataTransfer.files).map(function(t){var n={name:t.name,size:t.size,isFolder:/directory/i.test(t.type),doesNotRequireExtension:!0};return n.isFolder&&e.dragDropManifestGrouping&&(n.fetchFolderContentsFromDragDropEvent=function(){var n=t.name.split(/\/|\\/),i=n[n.length-1];return e.dragDropManifestGrouping[i]}),n})}}]),e}();e.exports={AsperaFileSerializer:r}},229:function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=n(182).AsperaConnectService,o=n(181).LogService,a=window.AW4,s={all:[],dragEnter:[],dragLeave:[],dragOver:[],drop:[]},l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"addTarget",value:function(e,t){r.connect.initSession(),this.target=e;var n=Object.assign({},s,t),i=!!n.all.length;(n.dragEnter.length||i)&&(this._dragEnterCallback=this.dragEnterCallback.bind(this),e.addEventListener("dragenter",this._dragEnterCallback)),(n.dragLeave.length||i)&&(this._dragLeaveCallback=this.dragLeaveCallback.bind(this),e.addEventListener("dragleave",this._dragLeaveCallback)),(n.dragOver.length||n.drop.length||i)&&(this._dragOverCallback=this.dragOverCallback.bind(this),e.addEventListener("dragover",this._dragOverCallback)),(n.drop.length||i)&&(this._dropCallback=this.dropCallback.bind(this),e.addEventListener("drop",this._dropCallback)),this.eventCallbacks=n}},{key:"reset",value:function(){this.target.removeEventListener("dragenter",this._dragEnterCallback),this.target.removeEventListener("dragleave",this._dragLeaveCallback),this.target.removeEventListener("dragover",this._dragOverCallback),this.target.removeEventListener("drop",this._dropCallback),this.eventCallbacks=Object.assign({},s),this._target=void 0}},{key:"dragEnterCallback",value:function(e){e.stopPropagation(),e.preventDefault(),this._executeEventCallbacksFor("dragEnter",{event:e})}},{key:"dragLeaveCallback",value:function(e){e.stopPropagation(),e.preventDefault(),this._executeEventCallbacksFor("dragLeave",{event:e})}},{key:"dragOverCallback",value:function(e){e.stopPropagation(),e.preventDefault(),this._executeEventCallbacksFor("dragOver",{event:e})}},{key:"dropCallback",value:function(e){var t=this;e.stopPropagation(),e.preventDefault();var n=e.dataTransfer.files,i={dataTransfer:{}};i.dataTransfer.files=[];for(var o=0;o<n.length;o++){var s={lastModifiedDate:n[o].lastModifiedDate,name:n[o].name,size:n[o].size,type:n[o].type};i.dataTransfer.files.push(s)}this._groupedFolderContents(e).then(function(n){r.connect.connectHttpRequest(a.Connect.HTTP_METHOD.POST,"/connect/file/dropped-files",i,a.Utils.SESSION_ID,{success:function(i){t._executeEventCallbacksFor("drop",{event:e,files:i,dragDropManifestGrouping:n})}})})}},{key:"_executeEventCallbacksFor",value:function(e,t){this.eventCallbacks[e].forEach(function(e){e(t)}),this.eventCallbacks.all.forEach(function(e){e(t)})}},{key:"_collectFiles",value:function(e,t,n){var i=this,r=[];return new Promise(function(a){e.forEach(function(e){if(e.isDirectory){var a=new Promise(function(t,a){var s=e.createReader();!function l(){s.readEntries(function(o){if(o.length){var a=i._collectFiles(o,e.fullPath,n);r.push(a),l()}else t()},function(t){o.warn("Failed to read directory contents for "+e.fullPath,t),a()})}()});r.push(a)}else n.push(t+"/"+e.name)}),Promise.all(r).then(function(){a(n)})})}},{key:"_groupedFolderContents",value:function(e){var t=this;return new Promise(function(n,i){var r={},a=[];e.dataTransfer.items||n(r);for(var s=function(n){var i=e.dataTransfer.items[n].webkitGetAsEntry();if(i.isDirectory){var s=i.createReader();a.push(new Promise(function(e,n){s.readEntries(function(o){var s=t._collectFiles(o,i.fullPath,[]);a.push(s),s.then(function(t){r[i.name]=t,e()},n)},function(e){o.warn("Failed to read directory contents for "+i.fullPath,e),n()})}))}},l=0;l<e.dataTransfer.items.length;l++)s(l);Promise.all(a).then(function(){o.debug("[RunnerClient.AsperaDragDropService] Parsed drag-drop contents:",r),n(r)},i)})}},{key:"target",get:function(){return this._target},set:function(e){if(this._target)throw new Error("[RunnerClient.AsperaDragDropService] Cannot set more than one target!");this._target=e}}]),e}();e.exports={AsperaDragDropService:l}},232:function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function r(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}Object.setPrototypeOf(r.prototype,HTMLElement.prototype),Object.setPrototypeOf(r,HTMLElement);var o=n(3).EVENTS,a=document.createElement("template");a.innerHTML='\n  <style>\n    :host {\n      border-bottom: 1px solid #ccc;\n      display: flex;\n      justify-content: space-between;\n      align-items: baseline;\n      padding: 8px;\n      position: relative;\n    }\n\n    :host > * {\n      box-sizing: border-box;\n    }\n\n    :host[hidden] {\n      display: none;\n    }\n\n    :host[locked] #remove {\n      display: none;\n    }\n\n    :host #remove {\n      -webkit-appearance: none;\n      background: none;\n      border: none;\n      cursor: pointer;\n      font-size: medium;\n    }\n\n    :host:before,\n    :host:after {\n      visibility: hidden;\n      pointer-events: none;\n    }\n\n    /* Triangle hack */\n    :host:after {\n      position: absolute;\n      top: calc(100% - 5px);\n      left: 20px;\n      margin-left: -5px;\n      width: 0;\n      border-bottom: 5px solid rgba(0,0,0,0.6);\n      border-right: 5px solid transparent;\n      border-left: 5px solid transparent;\n      content: " ";\n      font-size: 0;\n      line-height: 0;\n    }\n\n    :host:before {\n      position: absolute;\n      background-color: rgba(0,0,0,0.6);\n      color: white;\n      content: attr(data-tooltip);\n      padding: 4px 8px;\n      border-radius: 4px;\n      top: 100%;\n      z-index: 3;\n    }\n\n    :host:hover:after,\n    :host:hover:before {\n      visibility: visible;\n    }\n  </style>\n  <slot name="fileName"></slot>\n  <button type="button" id="remove">&times;</button>\n',window.ShadyCSS&&window.ShadyCSS.prepareTemplate(a,"runner-uploader--file"),function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.attachShadow({mode:"open"}).appendChild(a.content.cloneNode(!0)),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r),i(t,null,[{key:"elName",get:function(){return"runner-uploader--file"}}]),i(t,[{key:"connectedCallback",value:function(){var e=this;this.shadowRoot.getElementById("remove").addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),e.dispatchEvent(new CustomEvent(o.REMOVE_FILE,{bubbles:!0,detail:{uuid:e.dataset.uuid}}))})}},{key:"locked",get:function(){return this.hasAttribute("locked")},set:function(e){e?this.setAttribute("locked",""):this.removeAttribute("locked")}}],[{key:"register",value:function(){window.customElements.get(this.elName)||window.customElements.define(this.elName,this)}},{key:"observedAttributes",get:function(){return["locked"]}}]),t}().register()},233:function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function r(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}Object.setPrototypeOf(r.prototype,HTMLElement.prototype),Object.setPrototypeOf(r,HTMLElement),n(232);var o=n(3).EVENTS,a=n(182).AsperaConnectService,s=n(229).AsperaDragDropService,l=n(228).AsperaFileSerializer,u=n(227).AsperaUploadService,c=n(224).FileUploadService,d=n(222);window.ShadyCSS&&window.ShadyCSS.prepareTemplate(d,"runner-uploader");var f=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.empty=!0,e.attachShadow({mode:"open"}).appendChild(d.content.cloneNode(!0)),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r),i(t,null,[{key:"elName",get:function(){return"runner-uploader"}}]),i(t,[{key:"connectedCallback",value:function(){var e=this;this._connectDragDrop(),this.shadowRoot.getElementById("upload-button").addEventListener("click",this.initiateUpload.bind(this)),this.shadowRoot.getElementById("add-files-button").addEventListener("click",this.addFiles.bind(this)),this.shadowRoot.getElementById("add-more-button").addEventListener("click",this.reset.bind(this)),this._filesList.addEventListener(o.REMOVE_FILE,function(t){if(t.preventDefault(),t.stopPropagation(),!e.uploading){var n=t.target;c.removeFileByUUID(e.files,t.detail.uuid).then(function(){n.remove(),e._emitFilesRemovedEvent()})}})}},{key:"disconnectedCallback",value:function(){s.reset()}},{key:"addFiles",value:function(){var e=this;a.showFileUploadDialog(function(t){e._addFilesFromAspera(t)})}},{key:"initiateUpload",value:function(){this.uploading||(this.error&&(this.error=!1),this.dispatchEvent(new CustomEvent(o.UPLOAD_STARTED,{bubbles:!0,detail:{files:this.files}})),this.uploading=!0,Array.from(this._filesList.children).forEach(function(e){return e.locked=!0}),s.reset(),u.upload(this.files,{folderIds:this.folderIDs}).then(this._listenForTransferComplete.bind(this),this._handleUploadFailure.bind(this)))}},{key:"reset",value:function(){this._files=void 0,Array.from(this._filesList.children).forEach(function(e){return e.remove()}),this.uploadComplete=!1,this.empty=!0,this._connectDragDrop()}},{key:"_addFilesFromAspera",value:function(e){var t=this;c.addFiles(this.files,l.serialize(e)).then(function(e){t._emitFilesAddedEvent(!0,e)},function(e){t._emitFilesAddedEvent(!1,e)})}},{key:"_connectDragDrop",value:function(){var e=this;s.addTarget(this,{dragEnter:[function(){e.incoming=!0}],dragLeave:[function(){e.incoming=!1}],drop:[function(t){e.incoming=!1,e._addFilesFromAspera(t)}]})}},{key:"_handleUploadFailure",value:function(){this.dispatchEvent(new CustomEvent(o.UPLOAD_FAILED,{bubbles:!0,detail:{currentFiles:this.files}})),this.uploading=!1,Array.from(this._filesList.children).forEach(function(e){return e.locked=!1}),this._connectDragDrop(),this.error=!0}},{key:"_emitFilesAddedEvent",value:function(e,t){this._fileChangeHandler(),this.dispatchEvent(new CustomEvent(o.FILES_ADDED,{detail:Object.assign({success:e},t),bubbles:!0}))}},{key:"_emitFilesRemovedEvent",value:function(){this.dispatchEvent(new CustomEvent(o.FILES_REMOVED,{detail:{currentFiles:this.files},bubbles:!0}))}},{key:"_listenForTransferComplete",value:function(e){var t=this,n=e.data.connection_settings.request_id;a.eventCallbacks.transferComplete.push(function e(i){if(i.token===n&&i.isBatchComplete){t._uploadComplete();var r=a.eventCallbacks.transferComplete.indexOf(e);a.eventCallbacks.transferComplete.splice(r,1)}})}},{key:"_uploadComplete",value:function(){this.dispatchEvent(new CustomEvent(o.UPLOAD_COMPLETE,{bubbles:!0,detail:{currentFiles:this.files}})),this.uploading=!1,this.uploadComplete=!0}},{key:"_fileChangeHandler",value:function(){var e=this,t=Array.from(this._filesList.children).map(function(e){return e.dataset.uuid});this.files.forEach(function(n){if(!t.includes(n.uuid)){var i=document.createElement("runner-uploader--file");i.innerHTML='<span slot="fileName">'+n.fileName+"</span>",i.dataset.uuid=n.uuid,i.dataset.tooltip=n.fullFilePath,e._filesList.prepend(i)}}),this.empty=!this.files.length}},{key:"destinationFolder",get:function(){return this.getAttribute("destination-folder")},set:function(e){if(e){if(!/\d+/.test(e))throw new Error("[<"+this.elName+">] destination-folder must be an integer");this.setAttribute("destination-folder",e)}else this.removeAttribute("destination-folder")}},{key:"error",get:function(){return this.hasAttribute("error")},set:function(e){e?this.setAttribute("error",""):this.removeAttribute("error")}},{key:"empty",get:function(){return this.hasAttribute("empty")},set:function(e){e?this.setAttribute("empty",""):this.removeAttribute("empty")}},{key:"folderIDs",get:function(){return this._folderIDs||(this.destinationFolder?this._folderIDs=[this.destinationFolder]:this._folderIDs=[]),this._folderIDs},set:function(e){if("Array"!==e.constructor.name||!e.every(function(e){return/\d+/.test(e)}))throw new Error("[<"+this.elName+">] folderIDs must be an Array of numbers");this.destinationFolder=void 0,this._folderIDs=e}},{key:"incoming",get:function(){return this.hasAttribute("incoming")},set:function(e){e?this.setAttribute("incoming",""):this.removeAttribute("incoming")}},{key:"uploading",get:function(){return this.hasAttribute("uploading")},set:function(e){e?this.setAttribute("uploading",""):this.removeAttribute("uploading")}},{key:"uploadComplete",get:function(){return this.hasAttribute("upload-complete")},set:function(e){e?this.setAttribute("upload-complete",""):this.removeAttribute("upload-complete")}},{key:"files",get:function(){return this._files||(this._files=[]),this._files}},{key:"_filesList",get:function(){return this._filesListEl||(this._filesListEl=this.shadowRoot.getElementById("files-list")),this._filesListEl}}],[{key:"register",value:function(){window.customElements.get(this.elName)||window.customElements.define(this.elName,this)}},{key:"observedAttributes",get:function(){return["destinationFolder","empty","error","incoming","uploading","uploadComplete"]}}]),t}();f.register(),e.exports={RunnerUploader:f}},234:function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function r(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}Object.setPrototypeOf(r.prototype,HTMLElement.prototype),Object.setPrototypeOf(r,HTMLElement);var o=n(54),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r),i(t,[{key:"connectedCallback",value:function(){this.configureClient()}},{key:"configureClient",value:function(){o.configure({authentication:{method:this.method,token:this.token},environment:this.environment,locale:this.locale,logLevel:this.logLevel})}},{key:"method",get:function(){return this.getAttribute("method")},set:function(e){e?this.setAttribute("method",e):this.removeAttribute("method"),this.configureClient()}},{key:"token",get:function(){return this.getAttribute("token")},set:function(e){e?this.setAttribute("token",e):this.removeAttribute("token"),this.configureClient()}},{key:"environment",get:function(){return this.getAttribute("environment")},set:function(e){e?this.setAttribute("environment",e):this.removeAttribute("environment"),this.configureClient()}},{key:"locale",get:function(){return this.getAttribute("locale")},set:function(e){e?this.setAttribute("locale",e):this.removeAttribute("locale"),this.configureClient()}},{key:"logLevel",get:function(){return this.getAttribute("log-level")},set:function(e){e?this.setAttribute("log-level",e):this.removeAttribute("log-level"),this.configureClient()}}],[{key:"register",value:function(){window.customElements.get(this.elName)||window.customElements.define(this.elName,this)}},{key:"elName",get:function(){return"runner-client-configuration"}},{key:"observedAttributes",get:function(){return["token","method","environment","locale","logLevel"]}}]),t}();a.register(),e.exports={RunnerClientConfiguration:a}}}]);
//# sourceMappingURL=runnerclient.components.js.map